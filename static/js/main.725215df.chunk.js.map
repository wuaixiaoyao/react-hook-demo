{"version":3,"sources":["components/baseModal/index.module.scss","components/songs/index.module.scss","index.style.module.scss","reducer/reducer.ts","utils/request.ts","utils/index.ts","api/index.ts","pages/index/banner.tsx","pages/index/in.tsx","pages/todo/TodoInput.tsx","pages/todo/TodoItem.tsx","pages/todo/TodoList.tsx","pages/todo/index.tsx","components/baseModal/index.tsx","pages/user/index.tsx","components/songs/SongItem.tsx","App.tsx","serviceWorker.js","index.tsx","store/store.ts","pages/index/index.module.scss"],"names":["module","exports","base_modal_wrapper","item-wrapper","nav-wrapper","reducer","state","action","type","Object","objectSpread","lastUpdated","Date","now","todos","concat","todo","slice","splice","index","axios","Axios","create","defaults","headers","get","post","interceptors","request","use","config","NProgress","err","toast_default","a","offline","response","data","code","error","Promise","reject","http","Http","context","classCallCheck","this","api","params","arguments","length","undefined","then","res","configurable","value","target","propertyKey","descriptor","Point","x","y","_x","_y","console","log","string","len","i","match","getStringLength","getHotList","getBannerList","useState","React","useEffect","Banner","_useState","_useState2","slicedToArray","bannerList","setBannerList","getList","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","loading","sent","banners","hide","stop","apply","react","map","item","key","className","styles","src","pic","Index","TodoInput","newTodo","setNewTodo","dispatch","useDispatch","addTodo","inputWrapper","root","onChange","e","onKeyDown","placeholder","onClick","addBtn","css","_templateObject","_templateObject2","_templateObject3","useCallback","TodoItem","mapState","useMappedState","deleteTodo","button_default","size","TodoItem_templateObject","todoCount","TodoList","_useMappedState","count","Array","fill","_","toString","TodoList_templateObject","TodoList_templateObject2","TodoList_templateObject3","Todo","BaseModal","props","modalVisible","visible","setVisible","Users","SongView","songsList","setSongsList","result","hots","first","App_templateObject","Boolean","window","location","hostname","store","createStore","ReactDOM","render","react_default","createElement","index_es","Provider","react_router_dom","stylesName","to","react_router","path","exact","component","Song","document","getElementById","navigator","serviceWorker","ready","registration","unregister","img-item"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,mBAAA,4DCAlBF,EAAAC,QAAA,CAAkBE,eAAA,kDCAlBH,EAAAC,QAAA,CAAkBG,cAAA,oMCKH,SAASC,EACpBC,EACAC,GAEA,IAAKD,EACD,OAAO,KAGX,OAAQC,EAAOC,MACX,IAAK,WACD,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACAH,EADP,CAEIK,YAAaC,KAAKC,MAClBC,MAAOR,EAAMQ,MAAMC,OAAOR,EAAOS,QAIzC,IAAK,cACD,IAAMF,EAAQR,EAAMQ,MAAMG,QAE1B,OADAH,EAAMI,OAAOX,EAAOY,MAAO,GACpBV,OAAAC,EAAA,EAAAD,CAAA,GAAIH,EAAX,CAAkBK,YAAaC,KAAKC,MAAOC,UAG/C,QACI,OAAOR,wJCtBbc,EAAQC,IAAMC,SACpBF,EAAMG,SAASC,QAAQC,IAAI,gBAAkB,kDAC7CL,EAAMG,SAASC,QAAQE,KAAK,gBAAkB,iCAW9CN,EAAMO,aAAaC,QAAQC,IAAK,SAACC,GAE7B,OADAC,UACOD,GACR,SAACE,GACAD,SACAE,EAAAC,EAAMC,QAAQ,0CAGlBf,EAAMO,aAAaS,SAASP,IAAI,SAACO,GAC7B,GAAGA,GAAYA,EAASC,MAEP,MADAD,EAASC,KAAjBC,KAGD,OADAP,SACOK,GAGhB,SAACG,GAEA,OADAR,SACOS,QAAQC,OAAOF,eCjCbG,EAAO,eDwChB,SAAAC,EAAYC,GAAgBnC,OAAAoC,EAAA,EAAApC,CAAAqC,KAAAH,GAAAG,KAD5BF,aAC2B,EAEvBE,KAAKF,QAAUA,kDAEfG,EAAWC,GAA0B,IAAZlB,EAAYmB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,GAClC,OAAO7B,EAAMK,IAAN,GAAAV,OAAa+B,KAAKF,SAAlB7B,OAA4BgC,GAA5BtC,OAAAC,EAAA,EAAAD,CAAA,CAAoCuC,UAAWlB,IAASsB,KAAK,SAAAC,GAAG,OAAIA,EAAIhB,oCAE9EU,EAAWC,GACZ,OAAO5B,EAAMM,KAAN,GAAAX,OAAc+B,KAAKF,SAAnB7B,OAA6BgC,GAAMC,GAAQI,KAAK,SAAAC,GAAG,OAAKA,EAAIhB,gBChDvD,CAAS,QAK7B,SAASiB,EAAaC,GAClB,OAAO,SAAUC,EAAaC,EAAqBC,GAC/CA,EAAWJ,aAAeC,OAG5BI,KAQDL,GAAa,KAGbA,GAAa,gBARd,SAAAK,EAAYC,EAAWC,GAAYpD,OAAAoC,EAAA,EAAApC,CAAAqC,KAAAa,GAAAb,KAF3BgB,QAE0B,EAAAhB,KAD1BiB,QAC0B,EAC9BjB,KAAKgB,GAAKF,EACVd,KAAKiB,GAAKF,gDAIJ,OAAOf,KAAKgB,6BAGZ,OAAOhB,KAAKiB,2MAE1BC,QAAQC,IAAI,QAAQ,IAAIN,EAAM,EAAE,IAYhCK,QAAQC,IAVgB,SAACC,GAErB,IADA,IAAIC,EAAM,EACAC,EAAI,EAAGA,EAAIF,EAAOhB,OAAQkB,IACU,OAAtCF,EAAOE,GAAGC,MAAM,kBAChBF,GAAO,EAEPA,GAAO,EAEf,OAAOA,EAECG,CAAgB,gBAAM,gBCpC3B,IAAMC,EAAa,SAACvB,GACvB,OAAON,EAAKjB,IAAI,cAAcuB,IAErBwB,EAAgB,SAACxB,GAC1B,OAAON,EAAKjB,IAAI,UAAUuB,qBCDtByB,EAAoCC,WAAbC,GAAaD,2BAK7B,SAASE,IAAU,IAAAC,EACKJ,EAAS,IADdK,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAoE,EAAA,GACvBG,EADuBF,EAAA,GACZG,EADYH,EAAA,GAE9BH,EAAW,WACPO,KACF,IACF,IAAMA,EAAO,eAAAC,EAAA1E,OAAA2E,EAAA,EAAA3E,CAAA4E,EAAAnD,EAAAoD,KAAG,SAAAC,IAAA,IAAAlC,EAAA2B,EAAA,OAAAK,EAAAnD,EAAAsD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACZ1D,EAAAC,EAAM0D,QAAQ,yBADFH,EAAAE,KAAA,EAEInB,EAAc,CAAChE,KAAK,IAFxB,OAER6C,EAFQoC,EAAAI,KAGCb,EAAc3B,EAAtByC,QACLb,EAAcD,GACd/C,EAAAC,EAAM6D,OALM,wBAAAN,EAAAO,SAAAT,MAAH,yBAAAJ,EAAAc,MAAAnD,KAAAG,YAAA,GAOb,OAAOiD,EAAA,yBACFlB,EAAWmB,IAAI,SAACC,EAAgBjF,GAC7B,OAAO+E,EAAA,mBAAGG,IAAKlF,GACX+E,EAAA,qBAAKI,UAAWC,IAAO,YAAaC,IAAOJ,EAAKK,cCrBxD9B,EAAcD,YACP,SAASgC,IAIpB,OAHA/B,EAAU,aAER,IACKuB,EAAA,yBACHA,EAAA,wCAGAA,EAAA,cAACtB,EAAD,wdCTDH,EAAYC,WACJ,SAASiC,IAAY,IAAA9B,EACHJ,EAAS,IADNK,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAoE,EAAA,GACzB+B,EADyB9B,EAAA,GACjB+B,EADiB/B,EAAA,GAE1BgC,EAAWC,cACjB,SAASC,IACFJ,IACCE,EAAS,CAACtG,KAAK,WAAWQ,KAAK4F,IAC/BC,EAAW,KAGnB,OACIX,EAAA,qBAAKI,UAAaC,EAAOU,cACrBf,EAAA,uBAAOI,UAAWC,EAAOW,KAAM1G,KAAK,OACjC2G,SAAY,SAAAC,GAAC,OAAIP,EAAWO,EAAE5D,OAAOD,QACrC8D,UAAa,SAAAD,GACI,UAAVA,EAAEf,KACAW,KAGTM,YAAa,qBACb/D,MAAOqD,IAEVV,EAAA,wBAAQqB,QAAWP,EAASV,UAAaC,EAAOiB,QAAhD,iBAKZ,IAAMjB,EAAS,CACXW,KAAMO,YAAFC,KAONT,aAAaQ,YAADE,KAIZH,OAAOC,YAADG,oYCrCDC,EAAenD,cACP,SAASoD,EAAT3C,GAAgD,IAA5BhE,EAA4BgE,EAA5BhE,MACzB4G,EAAWF,EAAY,SAACvH,GAAD,OAAmBA,EAAMQ,MAAMK,IAAQ,CAChEA,IAEEH,EAAOgH,YAAeD,GACtBjB,EAAWC,cACXkB,EAAaJ,EACf,kBAAMf,EAAS,CAAEtG,KAAM,cAAeW,WACtC,CAACA,IAGL,OACI+E,EAAA,oBAAII,UAAWC,GAAOW,MAClBhB,EAAA,0BAAOlF,GACPkF,EAAA,cAAAgC,EAAAhG,EAAA,CAAQ1B,KAAO,UAAU+G,QAASU,EAAYE,KAAO,SAArD,iBAKZ,IAAM5B,GAAS,CACXW,KAAMO,YAAFW,2TCpBR,IAAML,GAAW,SAACzH,GAAD,MAAoB,CACjCK,YAAaL,EAAMK,YACnB0H,UAAW/H,EAAMQ,MAAMoC,SAGZ,SAASoF,KAAW,IAAAC,EACIP,YAAeD,IAA1CpH,EADuB4H,EACvB5H,YAAa0H,EADUE,EACVF,UACrB,OACInC,EAAA,yBACIA,EAAA,qBAAKI,UAAWC,GAAOiC,OAAvB,gBAAkCH,EAAlC,eACAnC,EAAA,oBAAII,UAAWC,GAAOzF,OACjB,IAAI2H,MAAMJ,GACNK,KAAK,MACLvC,IAAI,SAACwC,EAAGxH,GAAJ,OAAc+E,EAAA,cAAC4B,EAAD,CAAU3G,MAAOA,EAAOkF,IAAKlF,OAExD+E,EAAA,qBAAKI,UAAWC,GAAO5F,aAAvB,yCACaA,EAAc,IAAIC,KAAKD,GAAaiI,WAAa,UAM1E,IAAMrC,GAAS,CACXiC,MAAOf,YAAFoB,MAGLlI,YAAa8G,YAAFqB,MAIXhI,MAAO2G,YAAFsB,OCjCM,SAASC,KACpB,OAAO9C,EAAA,yBACHA,EAAA,cAACS,EAAD,MACAT,EAAA,cAACoC,GAAD,gCCTA3D,GAA0BD,YAAfmD,GAAenD,cAE3BD,GAAYC,WAIJ,SAASuE,GAAUC,GAAkB,IAAArE,EACnBJ,GAASyE,EAAMC,cADIrE,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAoE,EAAA,GACzCuE,EADyCtE,EAAA,GACjCuE,EADiCvE,EAAA,GAchD,OAZA+C,GAAY,aAEV,IACFlD,GAAU,aAER,IAOCyE,EACQlD,EAAA,qBAAKI,UAAWC,KAAOrG,oBAAvB,eAEHgG,EAAA,cAAAgC,EAAAhG,EAAA,CAAQ1B,KAAO,UAAU+G,QANjC,WACE8B,GAAW,KAKL,iBAGG,SCrBR5E,GAAkCC,WAAbC,IAAaD,2BAC1B,SAAS4E,KAAQ,IAAAzE,EACCJ,IAAS,GADVK,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAoE,EAAA,GACrBuE,EADqBtE,EAAA,GACbuE,EADavE,EAAA,GAQ5B,OANAH,GAAW,aAET,IAIKuB,EAAA,yBACHA,EAAA,oBAAIqB,QAJR,WACI8B,GAAW,KAGX,gBACAnD,EAAA,cAAC+C,GAAD,CAAWE,aAAgBC,8BCd3BzE,GAAwBD,YAAbD,GAAaC,WAOjB,SAAS6E,KAAW,IAAA1E,EACEJ,GAAS,IADXK,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAoE,EAAA,GACxB2E,EADwB1E,EAAA,GACd2E,EADc3E,EAAA,GAG/BH,GAAU,WACP/C,KACD,IACF,IAAMA,EAAU,WACZK,EAAAC,EAAM0D,QAAQ,yBACdrB,EAAW,IAAInB,KAAK,SAACC,GACjB,IAAIhB,EAAOgB,EAAIqG,OACfD,EAAapH,EAAKsH,MAClB1H,EAAAC,EAAM6D,UAGd,OAAOG,EAAA,oDAGCsD,EAAUrD,IAAI,SAACC,EAAejF,GAAhB,OAA0B+E,EAAA,mBAAGG,IAAOlF,EAAOmF,UAAWC,KAAO,iBACtEH,EAAKwD,OAAS,iVCW/B,IAAMrD,GAAS,CACXW,KAAMO,YAAFoC,OC7BYC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAAS5F,MACvB,2DCdN,IAAM6F,GCoBKC,YAAY9J,EAAS,CACxBM,YAAa,EACbG,MAAO,CACH,iBACA,qBACA,mBACA,qBDpBZsJ,IAASC,OACLC,EAAApI,EAAAqI,cAACC,EAAA,EAAaC,SAAd,CAAuBlH,MAAO2G,IAC1BI,EAAApI,EAAAqI,cFHO,WACX,OAAOrE,EAAA,qBAAKI,UAAWC,GAAOW,MAC1BhB,EAAA,cAACwE,EAAA,EAAD,KACIxE,EAAA,yBACIA,EAAA,qBAAKI,UAAWqE,KAAW,gBACvBzE,EAAA,wBACIA,EAAA,wBACIA,EAAA,cAACwE,EAAA,EAAD,CAAME,GAAG,KAAT,iBAEJ1E,EAAA,wBACIA,EAAA,cAACwE,EAAA,EAAD,CAAME,GAAG,SAAT,cAEJ1E,EAAA,wBACIA,EAAA,cAACwE,EAAA,EAAD,CAAME,GAAG,WAAT,iBAEJ1E,EAAA,wBACIA,EAAA,cAACwE,EAAA,EAAD,CAAME,GAAG,WAAT,mBAIZ1E,EAAA,cAAC2E,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWtE,IACjCR,EAAA,cAAC2E,EAAA,EAAD,CAAOC,KAAK,QAAQE,UAAWhC,KAC/B9C,EAAA,cAAC2E,EAAA,EAAD,CAAOC,KAAK,UAAUE,UAAW1B,KACjCpD,EAAA,cAAC2E,EAAA,EAAD,CAAOC,KAAK,UAAUE,UAAWC,SEpBzC,OAEJC,SAASC,eAAe,SDmHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMlI,KAAK,SAAAmI,GACjCA,EAAaC,mCGlInBxL,EAAAC,QAAA,CAAkBwL,WAAA","file":"static/js/main.725215df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"base_modal_wrapper\":\"baseModal_base_modal_wrapper__va4u7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item-wrapper\":\"songs_item-wrapper__ElMsi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav-wrapper\":\"index.style_nav-wrapper__1bZGB\"};","/**\n * @author wuaixiaoyao\n * @date 2019/7/1\n * @Description:\n*/\nimport {Action, IState} from '../store/store';\nexport default function reducer(\n    state: IState | null | undefined,\n    action: Action,\n) {\n    if (!state) {\n        return null;\n    }\n\n    switch (action.type) {\n        case 'add todo': {\n            return {\n                ...state,\n                lastUpdated: Date.now(),\n                todos: state.todos.concat(action.todo),\n            };\n        }\n\n        case 'delete todo': {\n            const todos = state.todos.slice();\n            todos.splice(action.index, 1);\n            return {...state, lastUpdated: Date.now(), todos};\n        }\n\n        default:\n            return state;\n    }\n}\n","/**\n * @author wuaixiaoyao\n * @date 2019/8/30\n * @Description: 网络请求\n*/\nimport Axios from 'axios';\nimport { Toast } from 'antd-mobile';\nimport * as NProgress from 'nprogress';\nconst axios = Axios.create();\naxios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8';\ntype res = {\n    code:number,\n    result?:any\n}\ntype httpRes =  {\n    data:{\n        code:number,\n        result?:any\n    },\n}\naxios.interceptors.request.use( (config: object):any => {\n    NProgress.start();\n    return config\n}, (err: object) => {\n    NProgress.done();\n    Toast.offline('网络请求超时');\n});\n//响应拦截器\naxios.interceptors.response.use((response:httpRes):any => {\n    if(response && response.data){\n        let {code} = response.data;\n        if( code === 200){\n            NProgress.done();\n            return response\n        }\n    }\n},((error:object) => {\n    NProgress.done();\n    return Promise.reject(error)\n}))\n\n\n\nclass  Http{\n    context:string;//这里声明的变量，是实例上的属性\n    constructor(context:string){\n        // 数据请求增加一个命名空间\n        this.context = context;\n    }\n    get(api:string,params:object,config = {}){\n        return axios.get(`${this.context}${api}`, {params, ...config}).then(res => res.data)\n    }\n    post(api:string,params:object){\n        return axios.post(`${this.context}${api}`,params).then(res  => res.data)\n    }\n    // put(api:string,id:string,params:object){\n    //     return axios.put(`${this.context}${api}/${id}`, params).then(res => res.result)\n    // }\n    //\n    // delete(api:string,params:object){\n    //     return axios.delete(`${this.context}${api}`, {params}).then(res => res.result);\n    // }\n    // patch(api:string,id:string,params:object){\n    //     return axios.patch(`${this.context}${api}/${id}`,params).then(res => res.result);\n    // }\n\n}\nexport default Http\n\n\n\n\n\n","/**\n * @author wuaixiaoyao\n * @date 2019/8/29\n * @Description:\n*/\nimport Http from './request';\nexport const http = new Http('/api');\n\n\n\n\nfunction configurable(value: boolean) {\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n        descriptor.configurable = value;\n    };\n}\nclass Point {\n    private _x: number;\n    private _y: number;\n    constructor(x: number, y: number) {\n        this._x = x;\n        this._y = y;\n    }\n\n    @configurable(false)\n    get x() { return this._x; }\n\n    @configurable(false)\n    get y() { return this._y; }\n}\nconsole.log(\"point\",new Point(1,2))\n\nconst getStringLength = (string:string):number => {\n    let len = 0;\n    for (let  i = 0; i < string.length; i++) {\n        if (string[i].match(/[^\\x00-\\xff]/ig) !== null) //全角\n            len += 2; //如果是全角，占用两个字节\n        else\n            len += 1; //半角占用一个字节\n    }\n    return len;\n}\nconsole.log(getStringLength('常见'),'长度')","/**\n * @author wuaixiaoyao\n * @date 2019/8/30\n * @Description:\n*/\nimport {http} from '../utils';\nexport const getHotList = (params:object) => {\n    return http.get('/search/hot',params)\n}\nexport const getBannerList = (params:object) => {\n    return http.get('/banner',params)\n}\n\n\n\n\n\n\n","/**\n * @author wuaixiaoyao\n * @date 2019/8/30\n * @Description:\n*/\nimport * as React from 'react';\nimport {Toast} from 'antd-mobile'\nimport {getBannerList} from '../../api'\nimport styles from './index.module.scss'\nconst { useState, useCallback ,useEffect} = React;\ntype bannerItem = {\n    pic:string,\n    titleColor:'red'|'blue'\n}\nexport default function Banner () {\n    const [bannerList,setBannerList] = useState([])\n    useEffect( () => {\n        getList()\n    },[]);\n    const getList = async () => {\n        Toast.loading('加载中...')\n        let res = await getBannerList({type:2});\n        let {banners:bannerList} = res;\n        setBannerList(bannerList);\n        Toast.hide()\n    }\n    return <div>\n        {bannerList.map((item:bannerItem,index:number) =>{\n            return <p key={index} >\n                <img className={styles[\"img-item\"]} src = {item.pic}/>\n            </p>\n        })}\n\n    </div>\n}","/**\n * @author wuaixiaoyao\n * @date 2019/8/30\n * @Description: home\n*/\nimport * as React from 'react';\nimport { Toast } from 'antd-mobile';\nimport Banner from './banner';\nconst { useEffect } = React;\nexport default function Index() {\n    useEffect(() => {\n\n    },[])\n    return <div>\n        <h2>\n            首页\n        </h2>\n        <Banner/>\n    </div>;\n}","/**\n * @author wuaixiaoyao\n * @date 2019/7/1\n * @Description:\n*/\nimport * as React from \"react\";\nimport {css} from \"emotion\";\nimport {useDispatch} from \"redux-react-hook\";\nconst {useState} = React;\nexport default function TodoInput() {\n    const [newTodo,setNewTodo] = useState(\"\");\n    const dispatch = useDispatch();\n    function addTodo(){\n        if(newTodo){\n            dispatch({type:\"add todo\",todo:newTodo});\n            setNewTodo(\"\")\n        }       \n    }\n    return (\n        <div className = {styles.inputWrapper}>\n            <input className={styles.root} type=\"text\"\n               onChange = {e => setNewTodo(e.target.value)}\n               onKeyDown = {e=>{\n                   if(e.key === \"Enter\"){\n                        addTodo()\n                    }\n               }}\n               placeholder={\"请输入\"}\n               value={newTodo}\n            />\n            <button onClick = {addTodo} className = {styles.addBtn}>添加</button>\n        </div>\n    )\n\n}\nconst styles = {\n    root: css`\n    box-sizing: border-box;\n    font-size: 16px;\n    margin-bottom: 24px;\n    padding: 8px 12px;\n    width: 100%;\n  `,\n  inputWrapper:css`\n    display:flex;    \n\n  `,\n  addBtn:css`\n    width:80px;\n    height:40px;\n    border:none;\n    text-align:center;\n    background:red;\n  `\n};","/**\n * @author wuaixiaoyao\n * @date 2019/7/1\n * @Description:\n*/\nimport { css } from \"emotion\";\nimport * as React from \"react\";\nimport { Button} from 'antd-mobile';\nimport { useDispatch, useMappedState } from \"redux-react-hook\";\nimport { IState } from \"../../store/store\";\nconst {useCallback} = React;\nexport default function TodoItem({ index }: { index: number }) {\n    const mapState = useCallback((state: IState) => state.todos[index], [\n        index\n    ]);\n    const todo = useMappedState(mapState);\n    const dispatch = useDispatch();\n    const deleteTodo = useCallback(\n        () => dispatch({ type: \"delete todo\", index }),\n        [index]\n    );\n\n    return (\n        <li className={styles.root}>\n            <span>{todo}</span>\n            <Button type = \"primary\" onClick={deleteTodo} size = \"small\">删除</Button>\n        </li>\n    );\n}\n\nconst styles = {\n    root: css`\n    display: flex;\n    justify-content: space-between;\n    list-style-type: none;\n    margin: 0;\n    padding: 8px 12px;\n\n    &:hover {\n      background-color: #efefef;\n\n      button {\n        display: block;\n      }\n    }\n\n    button {\n      display: none;\n    }\n  `\n};\n","/**\n * @author wuaixiaoyao\n * @date 2019/7/1\n * @Description:\n*/\nimport { css } from \"emotion\";\nimport * as React from \"react\";\nimport { useMappedState } from \"redux-react-hook\";\nimport { IState } from \"../../store/store\";\nimport TodoItem from \"./TodoItem\";\n\nconst mapState = (state: IState) => ({\n    lastUpdated: state.lastUpdated,\n    todoCount: state.todos.length\n});\n\nexport default function TodoList() {\n    const { lastUpdated, todoCount } = useMappedState(mapState);\n    return (\n        <div>\n            <div className={styles.count}>你有 {todoCount}个Todos</div>\n            <ul className={styles.todos}>\n                {new Array(todoCount)\n                    .fill(null)\n                    .map((_, index) => <TodoItem index={index} key={index} />)}\n            </ul>\n            <div className={styles.lastUpdated}>\n                最近更新时间: {lastUpdated ? new Date(lastUpdated).toString() : \"never\"}\n            </div>\n        </div>\n    );\n}\n\nconst styles = {\n    count: css`\n    font-size: 12px;\n  `,\n    lastUpdated: css`\n    color: #666;\n    font-size: 10px;\n  `,\n    todos: css`\n    padding-left: 0;\n  `\n};\n","/**\n * @author wuaixiaoyao\n * @date 2019/8/30\n * @Description:\n*/\nimport * as React from \"react\";\nimport TodoInput from './TodoInput';\nimport TodoList from './TodoList';\nexport default function Todo() {\n    return <div>\n        <TodoInput/>\n        <TodoList/>\n    </div>\n}","import * as React from 'react';\nimport {Button} from 'antd-mobile'\nconst { useEffect ,useCallback} = React;\nimport styles from './index.module.scss';\nconst {useState} = React;\ntype modalProps = {\n    modalVisible:boolean\n}\nexport default function BaseModal(props: modalProps){\n    const [visible,setVisible] = useState(props.modalVisible);\n    useCallback(() => {\n\n    },[])\n    useEffect(() => {\n\n    },[])\n    function showModal(){\n      setVisible(true)\n    }\n    function hideModal(){\n      setVisible(false)   \n    }\n    if(visible){\n        return <div className={styles.base_modal_wrapper} >\n            弹窗\n            <Button type = \"primary\" onClick={hideModal} >取消</Button>\n        </div>\n    }else {\n        return null\n    }\n}","/**\n * @author wuaixiaoyao\n * @date 2019/9/2\n * @Description:\n*/\nimport * as React from 'react';\nimport BaseModal from '../../components/baseModal'\nconst {useState,useCallback,useEffect} = React;\nexport default function Users() {\n    const [visible,setVisible] = useState(true);\n    useEffect( () => {\n\n    },[])\n    function showModal(){\n        setVisible(true)\n    }\n    return <div>\n        <h2 onClick = { showModal}>登录</h2>\n        <BaseModal modalVisible = {visible}/>\n    </div>;\n}","import * as React from \"react\";\nimport {Toast} from 'antd-mobile';\nimport styles from './index.module.scss';\nimport {getHotList} from '../../api'\nconst { useEffect ,useState } = React;\ninterface songItem  {\n    first:string,\n    iconType:number,\n    second:number,\n    third?:number//可选\n}\nexport default function SongView (){\n    const [songsList,setSongsList] = useState([]);\n    //把 useEffect Hook 看做 componentDidMount，componentDidUpdate 和 componentWillUnmount 这三个函数的组合\n    useEffect(() => {\n       request()\n    },[]);\n    const request = () => {\n        Toast.loading('加载中...')\n        getHotList({}).then((res: any) => {\n            let data = res.result;\n            setSongsList(data.hots)\n            Toast.hide()\n        })\n    }\n    return <div>\n        歌曲列表\n        {\n            songsList.map((item: songItem,index) => <p key = {index} className={styles[\"item-wrapper\"]}>\n                {item.first || '--'}\n            </p>)\n        }\n\n    </div>\n}","import {css} from 'emotion';\nimport * as React from 'react';\nimport {BrowserRouter as Router, Switch, Route, Link} from 'react-router-dom'\nimport Index from './pages/index/in'\nimport Todo from './pages/todo';\nimport Users from './pages/user';\nimport Song from \"./components/songs/SongItem\";\nimport stylesName from './index.style.module.scss';\n\nexport default function App() {\n    return <div className={styles.root}>\n        <Router>\n            <div>\n                <nav className={stylesName['nav-wrapper']}>\n                    <ul>\n                        <li>\n                            <Link to=\"/\">首页</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/todo\">Todo list</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/users/\">用户</Link>\n                        </li>\n                        <li>\n                            <Link to=\"/songs/\">歌曲</Link>\n                        </li>\n                    </ul>\n                </nav>\n                <Route path=\"/\" exact component={Index} />\n                <Route path=\"/todo\" component={Todo} />\n                <Route path=\"/users/\" component={Users} />\n                <Route path=\"/songs/\" component={Song} />\n\n            </div>\n        </Router>\n\n    </div>\n}\n\nconst styles = {\n    root: css`\n    box-sizing:border-box:\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1);\n    font-family: system-ui;\n    margin: 24px auto;\n    padding: 24px;\n    border:1px solid gray;\n    width:90%;\n  `,\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {StoreContext} from 'redux-react-hook';\nimport {makeStore} from './store/store';\nconst store = makeStore();\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <StoreContext.Provider value={store}>\n        <App />\n    </StoreContext.Provider>,\n    document.getElementById('root'),\n)\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n\n","/**\n * @author wuaixiaoyao\n * @date 2019/7/1\n * @Description:\n*/\nimport {Action, createStore} from 'redux';\nimport reducer from '../reducer/reducer';\n\nexport interface IState {\n    lastUpdated: number;\n    todos: string[];\n}\n\nexport type Action =\n    | {\n    type: 'add todo';\n    todo: string;\n}\n    | {\n    type: 'delete todo';\n    index: number;\n};\n\nexport function makeStore() {\n    return createStore(reducer, {\n        lastUpdated: 0,\n        todos: [\n            'Make the fire!',\n            'Fix the breakfast!',\n            'Wash the dishes!',\n            'Do the mopping!',\n        ],\n    });\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img-item\":\"index_img-item__2vaEN\"};"],"sourceRoot":""}